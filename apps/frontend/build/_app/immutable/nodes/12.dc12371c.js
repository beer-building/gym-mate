import{s as te,f as D,a as E,l as ne,g as M,h as Y,D as ue,c as S,m as se,d as L,j as H,i as re,x as d,E as ce,z as F,y as fe}from"../chunks/scheduler.4cfaec68.js";import{S as ae,i as oe,b as y,d as P,m as j,a as z,t as I,e as O}from"../chunks/index.f2283658.js";import{s as ge,I as N,B as de}from"../chunks/index.c4bb0b73.js";/* empty css                                                   */import{p as q,m as $e,u as G,x as V}from"../chunks/http-service.b939156e.js";import{E as Q,s as ie}from"../chunks/constants.fe812392.js";import{s as he}from"../chunks/auth.service.f9cc30c8.js";const _e=/[a-z0-9]+@[a-z]+\.[a-z]{2,3}/,we=({username:t,email:n,password:s,passwordConfirmation:r})=>{const i={};return t.trim().length||(i.username=Q),n.trim().length||(i.email=Q),s.trim().length||(i.password=Q),r.trim().length||(i.passwordConfirmation=Q),n.trim().length&&!n.match(_e)&&(i.email="Invalid email address."),s!==r&&(i.passwordConfirmation="Password confirmation does not match password."),i},J=q(""),K=q(""),W=q(""),Z=q(""),R=q({}),le=$e(J,K,W,Z,(t,n,s,r)=>({username:t,email:n,password:s,passwordConfirmation:r})),x=G(),pe=G(),me=G();ge({source:x,targets:{username:J,email:K,password:W,passwordConfirmation:Z}});V({clock:x,source:R,filter:(t,n)=>Object.keys(n)[0]in t,fn:(t,n)=>(Reflect.deleteProperty(t,Object.keys(n)[0]),{...t}),target:R});V({clock:pe,source:le,fn:we,target:[me,R]});V({clock:me,source:[R,le],filter:([t])=>!Object.keys(t).length,fn:([t,n])=>({user:{username:n.username,email:n.email,password:n.password}}),target:ie.start});V({clock:ie.finished.success,fn:({result:t})=>({token:t.user.token}),target:he});const ve=Object.freeze(Object.defineProperty({__proto__:null,email$:K,fieldChanged:x,password$:W,passwordConfirmation$:Z,signupButtonClicked:pe,signupErrors$:R,username$:J},Symbol.toStringTag,{value:"Module"}));function ke(t){let n;return{c(){n=ne("Sign up")},l(s){n=se(s,"Sign up")},m(s,r){re(s,n,r)},d(s){s&&L(n)}}}function Ce(t){let n,s,r="Sign up",i,o,u,_,p,w,c,v,f,k,m,C,$,T,g,b,B,X;return u=new N({props:{placeholder:"Username",value:t[1],error:t[2].username}}),u.$on("change",t[13]),p=new N({props:{placeholder:"Email",value:t[3],error:t[2].email}}),p.$on("change",t[14]),c=new N({props:{type:t[0]?"text":"password",placeholder:"Password",value:t[4],error:t[2].password}}),c.$on("change",t[15]),f=new N({props:{type:t[0]?"text":"password",placeholder:"Confirm password",value:t[5],error:t[2].passwordConfirmation||""}}),f.$on("change",t[16]),g=new de({props:{size:"large",$$slots:{default:[ke]},$$scope:{ctx:t}}}),g.$on("click",t[18]),{c(){n=D("div"),s=D("h1"),s.textContent=r,i=E(),o=D("form"),y(u.$$.fragment),_=E(),y(p.$$.fragment),w=E(),y(c.$$.fragment),v=E(),y(f.$$.fragment),k=E(),m=D("label"),C=ne(`Show password
			`),$=D("input"),T=E(),y(g.$$.fragment),this.h()},l(e){n=M(e,"DIV",{class:!0});var a=Y(n);s=M(a,"H1",{"data-svelte-h":!0}),ue(s)!=="svelte-13vjqy4"&&(s.textContent=r),i=S(a),o=M(a,"FORM",{class:!0});var l=Y(o);P(u.$$.fragment,l),_=S(l),P(p.$$.fragment,l),w=S(l),P(c.$$.fragment,l),v=S(l),P(f.$$.fragment,l),k=S(l),m=M(l,"LABEL",{class:!0});var h=Y(m);C=se(h,`Show password
			`),$=M(h,"INPUT",{type:!0}),h.forEach(L),T=S(l),P(g.$$.fragment,l),l.forEach(L),a.forEach(L),this.h()},h(){H($,"type","checkbox"),H(m,"class","password-toggler svelte-1i8rd0i"),H(o,"class","svelte-1i8rd0i"),H(n,"class","page svelte-1i8rd0i")},m(e,a){re(e,n,a),d(n,s),d(n,i),d(n,o),j(u,o,null),d(o,_),j(p,o,null),d(o,w),j(c,o,null),d(o,v),j(f,o,null),d(o,k),d(o,m),d(m,C),d(m,$),$.checked=t[0],d(o,T),j(g,o,null),b=!0,B||(X=ce($,"change",t[17]),B=!0)},p(e,[a]){const l={};a&2&&(l.value=e[1]),a&4&&(l.error=e[2].username),u.$set(l);const h={};a&8&&(h.value=e[3]),a&4&&(h.error=e[2].email),p.$set(h);const U={};a&1&&(U.type=e[0]?"text":"password"),a&16&&(U.value=e[4]),a&4&&(U.error=e[2].password),c.$set(U);const A={};a&1&&(A.type=e[0]?"text":"password"),a&32&&(A.value=e[5]),a&4&&(A.error=e[2].passwordConfirmation||""),f.$set(A),a&1&&($.checked=e[0]);const ee={};a&524288&&(ee.$$scope={dirty:a,ctx:e}),g.$set(ee)},i(e){b||(z(u.$$.fragment,e),z(p.$$.fragment,e),z(c.$$.fragment,e),z(f.$$.fragment,e),z(g.$$.fragment,e),b=!0)},o(e){I(u.$$.fragment,e),I(p.$$.fragment,e),I(c.$$.fragment,e),I(f.$$.fragment,e),I(g.$$.fragment,e),b=!1},d(e){e&&L(n),O(u),O(p),O(c),O(f),O(g),B=!1,X()}}}function be(t,n,s){let r,i,o,u,_,p=!1;const{username$:w,email$:c,password$:v,passwordConfirmation$:f,signupErrors$:k,fieldChanged:m,signupButtonClicked:C}=ve;F(t,w,e=>s(1,r=e)),F(t,c,e=>s(3,o=e)),F(t,v,e=>s(4,u=e)),F(t,f,e=>s(5,_=e)),F(t,k,e=>s(2,i=e));const $=({detail:e})=>{m({username:e})},T=({detail:e})=>{m({email:e})},g=({detail:e})=>{m({password:e})},b=({detail:e})=>{m({passwordConfirmation:e})};function B(){p=this.checked,s(0,p)}return[p,r,i,o,u,_,w,c,v,f,k,m,C,$,T,g,b,B,()=>{C()}]}class Ee extends ae{constructor(n){super(),oe(this,n,be,Ce,te,{})}}function Se(t){let n,s;return n=new Ee({}),{c(){y(n.$$.fragment)},l(r){P(n.$$.fragment,r)},m(r,i){j(n,r,i),s=!0},p:fe,i(r){s||(z(n.$$.fragment,r),s=!0)},o(r){I(n.$$.fragment,r),s=!1},d(r){O(n,r)}}}class Be extends ae{constructor(n){super(),oe(this,n,null,Se,te,{})}}export{Be as component};
